---
title: "API de Agendamento"
description: "Agende mensagens do WhatsApp programaticamente usando a API de Agendamento do EazyBe"
---

A API de Agendamento permite que usuarios organizacionais autenticados agendem mensagens do WhatsApp programaticamente. A API valida a membresia do usuario na organizacao, verifica os detalhes necessarios da mensagem e lida com problemas de permissao.

<Warning>
Nao use esta API para spam ou mensagens em massa. O uso indevido pode resultar em banimento da conta.
</Warning>

## Endpoint

```
POST https://api.eazybe.com/v2/scheduler/public-scheduler
```

<Card title="Colecao do Postman" icon="file-code">
  Acesse a colecao da API atraves do workspace compartilhado do Postman do EazyBe.
</Card>

## Autenticacao

Voce precisa obter o **Token de Autenticacao da Organizacao** do seu Workspace EazyBe.

<Steps>
  <Step title="Acesse o Workspace EazyBe">
    Va para [workspace.eazybe.com](https://workspace.eazybe.com)
  </Step>

  <Step title="Navegue ate a Pagina da Organizacao">
    Um administrador precisa acessar a pagina da Organizacao.
  </Step>

  <Step title="Copie o Token de Autenticacao">
    O Token de Autenticacao da Organizacao sera exibido nesta pagina. Copie-o para uso com a API.

    ![Token de Autenticacao da Organizacao](/images/1294609565.png)
  </Step>
</Steps>

## Payload da Requisicao

A API requer os seguintes campos:

| Campo | Tipo | Descricao |
|-------|------|-----------|
| `from` | string | Endereco de email organizacional do remetente |
| `to` | string | Numero de telefone do destinatario (formato internacional) |
| `message` | string | Conteudo de texto a enviar |
| `name` | string | Nome do destinatario para notificacoes |
| `time` | string | Timestamp de entrega agendada (formato ISO 8601) |

### Exemplo de Payload

```json
{
  "from": "hello@eazybe.com",
  "to": "919876543210",
  "message": "Hello World",
  "name": "Vats",
  "time": "2024-03-01T17:25:00.000Z"
}
```

## Exemplo de Codigo (Node.js)

```javascript
const axios = require('axios');

const config = {
  method: 'post',
  url: 'https://api.eazybe.com/v2/scheduler/public-scheduler',
  headers: {
    'Authorization': 'Bearer YOUR_ORGANIZATION_AUTH_TOKEN',
    'Content-Type': 'application/json'
  },
  data: {
    from: 'hello@eazybe.com',
    to: '919876543210',
    message: 'Hello World',
    name: 'Vats',
    time: '2024-03-01T17:25:00.000Z'
  }
};

axios(config)
  .then(response => console.log(response.data))
  .catch(error => console.error(error));
```

## Status de Resposta

| Status | Descricao |
|--------|-----------|
| **Sucesso** | Mensagem agendada com sucesso |
| **Falha** | Email invalido, campos faltantes ou problemas de permissao |

## Melhores Praticas

<CardGroup cols={2}>
  <Card title="Verificar Remetente" icon="check">
    Certifique-se de que o email do remetente pertenca a sua organizacao
  </Card>
  <Card title="Evitar Spam" icon="ban">
    Nao use para mensagens em massa ou atividades de spam
  </Card>
  <Card title="Token Valido" icon="key">
    Mantenha um Token de Autenticacao da Organizacao valido
  </Card>
  <Card title="Formato Internacional" icon="phone">
    Use formato de telefone internacional (ex., 919876543210)
  </Card>
</CardGroup>

---

<Note>
Se voce tiver alguma duvida ou precisar de mais assistencia, sinta-se a vontade para nos contatar em **hey@eazybe.com**. Estamos felizes em ajudar!
</Note>
